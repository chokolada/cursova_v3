# Hotel Management Frontend

Frontend додаток для системи управління готелем, побудований на React.

## Технології

- React 18
- React Router - маршрутизація
- Axios - HTTP запити
- Context API - управління станом
- CSS - стилізація

## Встановлення

### 1. Встановіть Node.js

Переконайтеся, що у вас встановлений Node.js версії 16 або вище:

```bash
node --version
```

### 2. Встановіть залежності

```bash
cd frontend
npm install
```

### 3. Налаштуйте змінні середовища

Створіть файл `.env` в корені папки frontend:

```env
REACT_APP_API_URL=http://localhost:8000/api
```

## Запуск

### Режим розробки

```bash
npm start
```

Додаток буде доступний за адресою: http://localhost:3000

### Продакшн білд

```bash
npm run build
```

Збудований додаток буде в папці `build/`.

## Структура проекту

```
src/
├── components/       # React компоненти
│   ├── Navbar.js          # Навігаційна панель
│   ├── ProtectedRoute.js  # Захищені маршрути
│   └── RoomCard.js        # Картка номера
├── pages/            # Сторінки
│   ├── Home.js            # Головна сторінка з номерами
│   ├── Login.js           # Сторінка входу
│   ├── Register.js        # Сторінка реєстрації
│   ├── BookingForm.js     # Форма бронювання
│   ├── MyBookings.js      # Мої бронювання
│   └── AdminPanel.js      # Адміністративна панель
├── services/         # API сервіси
│   ├── api.js             # Axios конфігурація
│   ├── authService.js     # Сервіс авторизації
│   ├── roomService.js     # Сервіс номерів
│   └── bookingService.js  # Сервіс бронювань
├── contexts/         # React Contexts
│   └── AuthContext.js     # Контекст авторизації
├── styles/           # CSS файли
└── App.js            # Головний компонент
```

## Функціонал

### Для користувачів

1. **Перегляд номерів**
   - Список всіх доступних номерів
   - Фільтрація за доступністю
   - Фільтрація за типом номера

2. **Бронювання**
   - Вибір дат заїзду та виїзду
   - Вказання кількості гостей
   - Додавання спеціальних побажань

3. **Мої бронювання**
   - Перегляд всіх своїх бронювань
   - Статус бронювання
   - Можливість скасування

### Для менеджерів

1. **Управління номерами**
   - Створення нових номерів
   - Редагування існуючих
   - Видалення номерів
   - Зміна доступності

2. **Перегляд бронювань**
   - Список всіх бронювань
   - Інформація про користувачів
   - Статуси бронювань

## Маршрути

- `/` - Головна сторінка (список номерів)
- `/login` - Вхід
- `/register` - Реєстрація
- `/booking/:roomId` - Форма бронювання (вимагає авторизації)
- `/my-bookings` - Мої бронювання (вимагає авторизації)
- `/admin` - Адміністративна панель (тільки для менеджерів)

## Авторизація

Додаток використовує JWT токени для авторизації:

1. При вході токен зберігається в `localStorage`
2. Токен автоматично додається до всіх API запитів
3. При виході токен видаляється
4. При помилці 401 користувач перенаправляється на сторінку входу

## Ролі користувачів

- **user** - звичайний користувач (може переглядати та бронювати номери)
- **manager** - менеджер (має доступ до адміністративної панелі)
- **admin** - адміністратор (повний доступ)

## Захищені маршрути

Компонент `ProtectedRoute` забезпечує захист маршрутів:

```jsx
<ProtectedRoute>
  <MyBookings />
</ProtectedRoute>

<ProtectedRoute requireManager={true}>
  <AdminPanel />
</ProtectedRoute>
```

## API інтеграція

Всі API запити проходять через сервісні файли:

### authService.js

```javascript
import authService from './services/authService';

// Вхід
const user = await authService.login(username, password);

// Реєстрація
await authService.register(userData);

// Вихід
authService.logout();
```

### roomService.js

```javascript
import roomService from './services/roomService';

// Отримати всі номери
const rooms = await roomService.getAllRooms({ available_only: true });

// Отримати номер
const room = await roomService.getRoom(id);
```

### bookingService.js

```javascript
import bookingService from './services/bookingService';

// Створити бронювання
const booking = await bookingService.createBooking(bookingData);

// Скасувати бронювання
await bookingService.cancelBooking(id);
```

## Стилізація

Додаток використовує чистий CSS без додаткових бібліотек. Всі стилі знаходяться в папці `src/styles/`.

Основні класи:

- `.btn` - кнопка
- `.btn-primary` - основна кнопка
- `.btn-secondary` - вторинна кнопка
- `.btn-danger` - кнопка видалення
- `.error-message` - повідомлення про помилку
- `.loading` - індикатор завантаження

## Troubleshooting

### CORS помилки

Переконайтеся, що backend налаштований для прийому запитів з `http://localhost:3000`.

### Помилки авторизації

Переконайтеся, що:
- Backend запущений на `http://localhost:8000`
- Змінна `REACT_APP_API_URL` правильно налаштована в `.env`
- Токен не застарів (за замовчуванням 30 хвилин)

### Білий екран після білду

Переконайтеся, що всі імпорти правильні та немає синтаксичних помилок:

```bash
npm run build
```

Перевірте консоль браузера на наявність помилок.

## Розробка

### Додавання нової сторінки

1. Створіть компонент в `src/pages/`
2. Додайте маршрут в `App.js`
3. Додайте посилання в `Navbar.js` (якщо потрібно)

### Додавання нового API сервісу

1. Створіть файл в `src/services/`
2. Імпортуйте `api` з `api.js`
3. Створіть методи для API endpoints

## Подальші покращення

- [ ] Додати пагінацію для списку номерів
- [ ] Додати пошук номерів
- [ ] Додати галерею зображень для номерів
- [ ] Додати інтеграцію з платіжними системами
- [ ] Додати систему повідомлень/нотифікацій
- [ ] Додати багатомовність (i18n)
- [ ] Додати темну тему
